<!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Setup</title>
            <!-- Font Awesome -->
            <link rel="stylesheet" href="{{ url_for('static', filename='main/plugins/fontawesome-free/css/all.min.css') }}">
            <!-- Theme style -->
            <link rel="stylesheet" href="{{ url_for('static', filename='main/dist/css/adminlte.min.css') }}">
            <!-- Google Font: Source Sans Pro -->
            <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
            <!-- Drawing -->
            <script src="https://unpkg.com/konva@6.0.0/konva.min.js"></script>
            <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
            <style>
                #container {
                    border:1px solid red;
                    width: 1280px;
                    height: 720px;
                    background-image: url("{{ url_for('video_feed') }}");
                    background-repeat: no-repeat;
                }
                #showData {
                    transform: scale(0.5) translate(-50%, -50%);
                }
            </style>
        </head>
        <body class="hold-transition layout-top-nav bg-light">
            <div class="wrapper">
                <nav class="main-header navbar navbar-expand-md navbar-light navbar-white">
                    <div class="container">
                        <a class="navbar-brand">
                            <span class="brand-text font-weight-light">Config Zone</span>
                        </a>
                        <a href="{{ url_for('logout') }}" class="navbar-link float-right">
                            <span class="brand-text font-weight-light">Logout</span>
                        </a>
                    </div>
                </nav>

                <div class="content-wrapper">
                    <div class="content-header">
                        <div class="container">
                            <div class="row mb-2">
                                <div class="col-sm-auto">
                                    <ol class="breadcrumb float-sm-left">
                                        <li class="breadcrumb-item"><a href="{{ url_for('home') }}">Live</a></li>
                                        <li class="breadcrumb-item active"><strong>Setup</strong></li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-3">
                                    <div class="card card-primary card-outline">
                                        <div class="card-body">
                                            <div class="nav flex-column nav-pills" aria-orientation="vertical">
                                                <a class="nav-link" href="{{ url_for('setup') }}" aria-selected="false">Source Camera</a>
                                                <a class="nav-link active" aria-selected="true">Config Zone</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card card-primary card-outline">
                                        <div class="card-header">
                                            <h5><strong>Drawing</strong></h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="row mb-2">
                                                <div id='polyContainer' class="col-lg-6">
                                                    <button id="poly" class="btn btn-primary btn-block">Add Zone</button>
                                                </div>
                                                <div id='SaveContainer' class="col-lg-6">
                                                    <button id="Save" class="btn btn-success btn-block">Done</button>
                                                </div>  
                                                <div id="LineContainerMain" class="col-lg-6">
                                                    <button id="line" class="btn btn-primary btn-block">Add Line</button>
                                                </div>
                                            </div>
                                            <div class="row mb-2">
                                                <div class="col-lg-12">
                                                    <button id="clear" class="btn btn-danger btn-block">Clear</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card card-primary card-outline">
                                        <div class="card-header">
                                            <h5><strong>Save as JSON File</strong></h5>
                                        </div>
                                        <div class="card-body">
                                            <button id="saveJSON" type="submit" class="btn btn-primary btn-block">Save</button>
                                        </div>
                                    </div>
                                    <div class="card card-primary card-outline">               
                                        <div class="card-header">
                                            <h5><strong>Restart Core Processing</strong></h5>
                                        </div>
                                        <div class="card-body">
                                            <button id="restartBTN" class="btn btn-primary btn-block">Restart</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-7" id="showData">
                                    <div id="container"></div>
                                </div>
                                <div class="col-lg-2">
                                    <div class="card card-primary card-outline">
                                        <div class="card-header">
                                            <h5><strong>Draw Guide</strong></h5>
                                        </div>
                                        <div class="card-body">
                                            <p id="canvasInfo">Canvas Size</p>
                                            <p id="canvasWidth"></p>
                                            <p id="canvasHeight"></p>
                                            <script>
                                                let container = document.getElementById('container');
                                                let getWidth = container.offsetWidth;
                                                let getHeight = container.offsetHeight;
                                                let canvasW = document.getElementById('canvasWidth');
                                                let canvasH = document.getElementById('canvasHeight');

                                                canvasW.innerHTML = '<strong>Width</strong> : ' + getWidth + ' px';
                                                canvasH.innerHTML = '<strong>Height</strong> : ' + getHeight + ' px';
                                            </script>
                                        </div>
                                    </div>
                                    <div class="card card-primary card-outline">
                                        <div class="card-header">
                                            <h5><strong>Label</strong></h5>
                                        </div>
                                        <div class="card-body" id='showLabel'>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </body>

        <script type="text/javascript" src="{{ url_for('static', filename='main/draw.js') }}"></script>
    </html>